{
  "version": 3,
  "file": "angular-5-popup.umd.js",
  "sources": [
    "ng://angular-5-popup/out/src/app/sc-modal/sc-modal.module.ts",
    "ng://angular-5-popup/out/src/app/sc-modal/modal.component.ts",
    "ng://angular-5-popup/out/src/app/sc-modal/modal.service.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModalService } from './modal.service';\r\nimport { ModalComponent } from './modal.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [ModalComponent],\r\n  entryComponents:[],\r\n  exports:[ModalComponent],\r\n  providers:[ModalService],\r\n  bootstrap: [ModalComponent]\r\n})\r\nexport class ScModalModule { }\r\n",
    "import { Component, OnInit, Input,  ElementRef, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { modelProp } from './typings/model';\r\nimport { ModalService } from './modal.service';\r\n\r\n@Component({\r\n  selector: 'sc-modal',\r\n  moduleId: module.id.toString(),\r\n  template: '<ng-content></ng-content>',\r\n  styles: [`sc-modal{text-align:center;position:relative;top:0;left:0;width:100%;height:100%}sc-modal.default{visibility:hidden}sc-modal .modal{z-index:1000;overflow:auto;background-color:#fff;height:350px;width:500px;margin:0 auto;position:fixed;left:0;right:0;border-radius:3px;border:1px solid #ccc}sc-modal .modal-header{padding:20px;background:#fff;position:relative}sc-modal .modal-background{position:fixed;background-color:#000;opacity:.3;z-index:900;width:100%;height:100%;left:0;top:0}sc-modal body.modal-open{overflow:hidden}.sc-modal-close{padding:0;background:0 0;border:0;cursor:pointer;position:absolute;right:10px;top:10px}.modal.modal-open{-webkit-animation:.7s cubic-bezier(.47,0,.745,.715) both puff-in-center;animation:.7s cubic-bezier(.47,0,.745,.715) both puff-in-center}@-webkit-keyframes puff-in-center{0%{-webkit-transform:scale(2);transform:scale(2);-webkit-filter:blur(2px);filter:blur(2px);opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-filter:blur(0);filter:blur(0);opacity:1}}@keyframes puff-in-center{0%{-webkit-transform:scale(2);transform:scale(2);-webkit-filter:blur(2px);filter:blur(2px);opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-filter:blur(0);filter:blur(0);opacity:1}}.modal.modal-close{-webkit-animation:1s ease-out both fade-out;animation:1s ease-out both fade-out}@-webkit-keyframes fade-out{0%{opacity:1}100%{opacity:0}}@keyframes fade-out{0%{opacity:1}100%{opacity:0}}`],\r\n  encapsulation:ViewEncapsulation.None,\r\n})\r\nexport class ModalComponent implements OnInit, OnDestroy  {\r\n  @Input() id:string;\r\n  private element:HTMLElement;\r\n  constructor(\r\n    private ms:ModalService,\r\n    private ele :  ElementRef,\r\n  ) { \r\n    this.element = ele.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    let modal = this;\r\n \r\n        // ensure id attribute exists\r\n        if (!this.id) {\r\n            console.error('modal must have an id');\r\n            return;\r\n        }\r\n \r\n        // move element to bottom of page (just before </body>) so it can be displayed above everything else\r\n        this.element.querySelector('body');\r\n \r\n        // close modal on background click\r\n        this.element.addEventListener('click', function (e: any) {\r\n            var target = e.target;\r\n            if(target.className == 'modal-background'){\r\n              this.ms.close(this.id);\r\n            }\r\n        }.bind(this));\r\n        this.ms.add(this);\r\n  }\r\n\r\n  openModal(id: string){\r\n    this.ms.open(id);\r\n  }\r\n\r\n  closeModal(id: string){\r\n      this.ms.close(id);\r\n  }\r\n\r\n\r\n  ngOnDestroy(){\r\n    this.ms.remove(this.id);\r\n    this.element.remove();\r\n  }\r\n\r\n}\r\n",
    "import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ModalService {\r\n  private modals: any[] = [];\r\n  constructor() { }\r\n\r\n  add(modal: any) {\r\n    // add modal to array of active modals\r\n    this.modals.push(modal);\r\n  }\r\n  remove(id: string) {\r\n    // remove modal from array of active modals\r\n    let modalToRemove = this.modals.indexOf(id);\r\n    this.modals = this.modals.splice(modalToRemove, 1);\r\n}\r\n\r\nopen(id: string) {\r\n    var modal \r\n    this.modals.forEach( (item)=>{\r\n        if(item.id == id) modal =  item;\r\n    });\r\n    modal.ele.nativeElement.style.visibility = 'visible';\r\n    var w = window,\r\n    d = document,\r\n    e = d.documentElement,\r\n    g = d.getElementsByTagName('body')[0],\r\n    x = w.innerWidth || e.clientWidth || g.clientWidth,\r\n    y = w.innerHeight|| e.clientHeight|| g.clientHeight;\r\n    let modalContainer = modal.ele.nativeElement.getElementsByClassName('modal')[0];\r\n    let modalHeight = y - modalContainer.clientHeight;\r\n    modalContainer.style.top = modalHeight/2+'px';\r\n    this.addRemoveCls(modalContainer, 'modal-open', 'modal-close');\r\n}\r\n\r\nclose(id: string) {\r\n    var modal \r\n    this.modals.forEach( (item)=>{\r\n        if(item.id == id) modal =  item;\r\n    });\r\n    let modalContainer = modal.ele.nativeElement.getElementsByClassName('modal')[0];\r\n    this.addRemoveCls(modalContainer, 'modal-close', 'modal-open');     \r\n    setTimeout( ()=>{\r\n        modal.ele.nativeElement.style.visibility = 'hidden';\r\n    }, 200);\r\n}\r\n\r\nprivate addRemoveCls(modal, add, remove){\r\n    var classes = modal.getAttribute('class').split(\" \");\r\n    let isOpen = classes.indexOf(add);\r\n    isOpen < 0 ? classes.push(add): '';\r\n    let index = classes.indexOf(remove);\r\n    index > -1 ? classes.splice(index, 1) : '';\r\n    modal.className = classes.join().replace(',', ' ');\r\n}\r\n\r\n}\r\n"
  ],
  "names": [
    "CommonModule",
    "NgModule",
    "Input",
    "ElementRef",
    "ViewEncapsulation",
    "Component",
    "Injectable"
  ],
  "mappings": "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"
}
